# ğŸš€ ComfyUI WAN RunPod Template - å®Œå…¨ã‚¬ã‚¤ãƒ‰
## WAN 2.1 ãƒ“ãƒ‡ã‚ªç”Ÿæˆç’°å¢ƒã®æ§‹ç¯‰ã‹ã‚‰é‹ç”¨ã¾ã§

---

## ğŸ“‹ ç›®æ¬¡

1. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦](#-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦)
2. [v2.1 æ–°æ©Ÿèƒ½ãƒ»æœ€é©åŒ–](#-v21-æ–°æ©Ÿèƒ½æœ€é©åŒ–)
3. [ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶](#-ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶)
4. [äº‹å‰æº–å‚™](#-äº‹å‰æº–å‚™)
5. [RunPodä¸Šã§ã®ãƒ“ãƒ«ãƒ‰ï¼ˆæ¨å¥¨ï¼‰](#-runpodä¸Šã§ã®ãƒ“ãƒ«ãƒ‰æ¨å¥¨)
6. [äº‹å‰ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½¿ç”¨](#-äº‹å‰ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½¿ç”¨)
7. [RunPodç’°å¢ƒã§ã®ä½¿ç”¨æ–¹æ³•](#-runpodç’°å¢ƒã§ã®ä½¿ç”¨æ–¹æ³•)
8. [é–‹ç™ºãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º](#-é–‹ç™ºã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º)
9. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#-ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
10. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚³ã‚¹ãƒˆ](#-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚³ã‚¹ãƒˆ)
11. [ã‚ˆãã‚ã‚‹è³ªå• (FAQ)](#-ã‚ˆãã‚ã‚‹è³ªå•-faq)

---

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### æ¦‚è¦
ComfyUI WAN RunPod Template ã¯ã€**WAN 2.1 T2Vï¼ˆText-to-Videoï¼‰ãƒ¢ãƒ‡ãƒ«**ã‚’ä½¿ç”¨ã—ãŸãƒ“ãƒ‡ã‚ªç”Ÿæˆã«æœ€é©åŒ–ã•ã‚ŒãŸé«˜æ€§èƒ½ãªComfyUIç’°å¢ƒã®Dockerãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ã€‚

### ä¸»è¦ç‰¹å¾´

#### ğŸ¬ **Core Modelsï¼ˆäº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ï¼‰**
- **WAN 2.1 T2V-14B** - ãƒ¡ã‚¤ãƒ³ãƒ“ãƒ‡ã‚ªç”Ÿæˆãƒ¢ãƒ‡ãƒ«ï¼ˆGGUFå½¢å¼ã€ç´„8GBï¼‰
- **UMT5-XXL Encoder** - é«˜ç²¾åº¦ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãƒ¼ï¼ˆGGUFå½¢å¼ã€ç´„2GBï¼‰
- **WAN 2.1 VAE** - é«˜å“è³ªãƒ“ãƒ‡ã‚ªã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆç´„1GBï¼‰
- **WAN LoRA** - è¿½åŠ ã®æ©Ÿèƒ½æ‹¡å¼µLoRAï¼ˆç´„200MBï¼‰

#### ğŸ”§ **Professional Custom Nodesï¼ˆæœ€æ–°ç‰ˆè‡ªå‹•å–å¾—ï¼‰**
- **ComfyUI-Manager** - ãƒãƒ¼ãƒ‰ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- **ComfyUI-GGUF** - GGUFå½¢å¼ãƒ•ã‚¡ã‚¤ãƒ«å¯¾å¿œ
- **ComfyUI-Easy-Use** - ä½¿ã„ã‚„ã™ã„UIæ‹¡å¼µ
- **ComfyUI-KJNodes** - è¿½åŠ ãƒãƒ¼ãƒ‰ç¾¤
- **ComfyUI-VRGameDevGirl** - VRé–¢é€£æ©Ÿèƒ½
- **RGThree-Comfy** - ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–

#### ğŸ—ï¸ **Infrastructure**
- **CUDA 12.3.2** å¯¾å¿œ
- **PyTorch 2.7 nightly+** with CUDA support
- **ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚µãƒ¼ãƒ“ã‚¹**: ComfyUI (Port 6006) + Jupyter Lab (Port 8888)
- **Persistent Storage** å¯¾å¿œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
- **æœ€æ–°ç‰ˆCustom Nodes** - GitHubã‹ã‚‰è‡ªå‹•å–å¾—

---

## ğŸ¯ v2.1 æ–°æ©Ÿèƒ½ãƒ»æœ€é©åŒ–

### âš¡ **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š**
- **ä¸¦åˆ—ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**: ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã®åŒæ™‚å–å¾—ã§**æœ€å¤§50%é«˜é€ŸåŒ–**
- **å¼·åŒ–ã‚­ãƒ£ãƒƒã‚·ãƒ¥**: Docker Registry cache ã«ã‚ˆã‚‹å†ãƒ“ãƒ«ãƒ‰æ™‚é–“çŸ­ç¸®
- **æœ€é©åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼**: pipä¾å­˜é–¢ä¿‚ã®åˆ†é›¢ã«ã‚ˆã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥åŠ¹ç‡å‘ä¸Š

### ğŸ”„ **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–**
- **è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼æ™‚ã®3æ®µéšãƒªãƒˆãƒ©ã‚¤æ©Ÿæ§‹
- **æ¥ç¶šãƒã‚§ãƒƒã‚¯**: Docker Hub/GitHubæ¥ç¶šã®äº‹å‰ç¢ºèª
- **å¾©æ—§æ©Ÿèƒ½**: ãƒ“ãƒ«ãƒ‰ä¸­æ–­ã‹ã‚‰ã®è‡ªå‹•å¾©æ—§

### ğŸ“Š **ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š**
- **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰**: `./setup-interactive.sh` ã§åˆå¿ƒè€…å‘ã‘ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- **è©³ç´°é€²æ—è¡¨ç¤º**: ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¨ã‚³ã‚¹ãƒˆæ¨å®šã®è¡¨ç¤º
- **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: ã‚³ãƒ³ãƒ†ãƒŠçŠ¶æ…‹ã®è‡ªå‹•ç›£è¦–

### ğŸ”§ **æŠ€è¡“çš„æ”¹å–„**
- **ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸æœ€é©åŒ–**: Docker build cache ã®åŠ¹ç‡çš„æ´»ç”¨
- **ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ‹¡å¼µ**: ã‚ˆã‚Šè©³ç´°ãªã‚¤ãƒ¡ãƒ¼ã‚¸æƒ…å ±ã®è¿½åŠ 
- **ç’°å¢ƒå¤‰æ•°æœ€é©åŒ–**: BuildKit inline cache ã®æœ‰åŠ¹åŒ–

### ğŸ“ˆ **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šãƒ‡ãƒ¼ã‚¿**
- **åˆå›ãƒ“ãƒ«ãƒ‰**: 25-35åˆ† â†’ **20-30åˆ†**ï¼ˆ**20%é«˜é€ŸåŒ–**ï¼‰
- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ã‚Š**: 15-20åˆ† â†’ **12-18åˆ†**ï¼ˆ**25%é«˜é€ŸåŒ–**ï¼‰
- **ã‚¨ãƒ©ãƒ¼å›å¾©**: æ‰‹å‹•å¯¾å¿œ â†’ **è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤**

---

## ğŸ’» ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

### ğŸ–¥ï¸ **RunPod GPU ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆæ¨å¥¨ï¼‰**

#### **æ¨å¥¨æœ€å°ä»•æ§˜**
- **GPU**: RTX 4090 (24GB VRAM)
- **Container Disk**: 50GBä»¥ä¸Š
- **Volume Disk**: 50GBä»¥ä¸Šï¼ˆæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨æ™‚ï¼‰
- **Template**: RunPod PyTorch 2.0 ã¾ãŸã¯ Ubuntu with CUDA

#### **æ€§èƒ½é‡è¦–ä»•æ§˜**
- **GPU**: RTX A6000 / H100
- **Container Disk**: 50GBä»¥ä¸Š
- **Volume Disk**: 100GBä»¥ä¸Š

#### **ã‚³ã‚¹ãƒˆåŠ¹ç‡é‡è¦–**
- **GPU**: RTX 4090
- **Container Disk**: 40GBï¼ˆã‚®ãƒªã‚®ãƒªï¼‰
- **Volume**: ãªã—ï¼ˆä¸€æ™‚çš„ä½¿ç”¨ï¼‰

### ğŸš« **åˆ¶é™äº‹é …ãƒ»æ³¨æ„ç‚¹**

#### **GitHub Actionsåˆ¶é™**
- **å®¹é‡åˆ¶é™**: 14GBï¼ˆä¸è¶³ï¼‰
- **å¿…è¦å®¹é‡**: 20GBä»¥ä¸Šï¼ˆWANãƒ¢ãƒ‡ãƒ« + PyTorch + CUDA + BuildKitï¼‰
- **çµæœ**: `No space left on device`ã‚¨ãƒ©ãƒ¼ã§å¤±æ•—
- **å¯¾å¿œ**: GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ç„¡åŠ¹åŒ–æ¸ˆã¿

#### **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰åˆ¶é™**
- **å¿…è¦å®¹é‡**: 20-22GBï¼ˆãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥å«ã‚€ï¼‰
- **ãƒ“ãƒ«ãƒ‰æ™‚é–“**: 25-35åˆ†ï¼ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¾å­˜ï¼‰
- **æ¨å¥¨**: RunPodä¸Šã§ã®ãƒ“ãƒ«ãƒ‰ã‚’å¼·ãæ¨å¥¨

---

## ğŸ“š äº‹å‰æº–å‚™

### ğŸ³ **Docker Hub ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**

#### 1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
1. https://hub.docker.com ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
2. ãƒ¡ãƒ¼ãƒ«èªè¨¼ã‚’å®Œäº†

#### 2. ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³å–å¾—
1. **Account Settings** â†’ **Security** â†’ **New Access Token**
2. ãƒˆãƒ¼ã‚¯ãƒ³åã‚’å…¥åŠ›ï¼ˆä¾‹ï¼š`runpod-build`ï¼‰
3. **Read, Write, Delete** æ¨©é™ã‚’é¸æŠ
4. **Generate** ã‚’ã‚¯ãƒªãƒƒã‚¯
5. **36-40æ–‡å­—ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼**ï¼ˆå®‰å…¨ãªå ´æ‰€ã«ä¿å­˜ï¼‰

#### 3. èªè¨¼æƒ…å ±ç¢ºèª
- **Username**: `nobukoyo`ï¼ˆæ—¢å­˜ãƒªãƒã‚¸ãƒˆãƒªã«åˆã‚ã›ã‚‹ï¼‰
- **Password**: ä¸Šè¨˜ã§å–å¾—ã—ãŸã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³

### ğŸš€ **RunPod ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ**

#### 1. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
1. https://runpod.io ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
2. æ±ºæ¸ˆæ–¹æ³•ã‚’è¨­å®šï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ¨å¥¨ï¼‰
3. åˆå›ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆï¼ˆ$10-20ï¼‰ã‚’ãƒãƒ£ãƒ¼ã‚¸

#### 2. GPUæ–™é‡‘ç¢ºèª
- **RTX 4090**: ç´„$0.06/åˆ†ï¼ˆ$3.6/æ™‚ï¼‰
- **RTX A6000**: ç´„$0.08/åˆ†ï¼ˆ$4.8/æ™‚ï¼‰
- **H100**: ç´„$0.15/åˆ†ï¼ˆ$9.0/æ™‚ï¼‰

### ğŸ’° **äºˆç®—è¨ˆç”»**
- **ãƒ“ãƒ«ãƒ‰æ™‚é–“**: 20-30åˆ†ï¼ˆåˆå›ï¼‰
- **æ¨å®šã‚³ã‚¹ãƒˆ**: $2-4ï¼ˆRTX 4090ï¼‰
- **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**: $1-2/æ™‚é–“
- **ç·äºˆç®—**: $10-20ï¼ˆåˆå›ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ãƒ†ã‚¹ãƒˆå«ã‚€ï¼‰

---

## ğŸ”¥ RunPodä¸Šã§ã®ãƒ“ãƒ«ãƒ‰ï¼ˆæ¨å¥¨ï¼‰

### ğŸ¯ **ãªãœRunPodã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã‹**

#### âœ… **ãƒ¡ãƒªãƒƒãƒˆ**
- **å®¹é‡åˆ¶é™ãªã—**: 50GB+ã®Container DiskãŒä½¿ç”¨å¯èƒ½
- **é«˜æ€§èƒ½ç’°å¢ƒ**: GPUæœ€é©åŒ–ã•ã‚ŒãŸç’°å¢ƒã§ã®é«˜é€Ÿå‡¦ç†
- **ç¢ºå®ŸãªæˆåŠŸç‡**: ãƒ­ãƒ¼ã‚«ãƒ«ã‚„GitHub Actionsã®åˆ¶é™ã‚’å®Œå…¨å›é¿
- **ã‚³ã‚¹ãƒˆåŠ¹ç‡**: å¿…è¦ãªæ™‚ã®ã¿ä½¿ç”¨ã€å›ºå®šè²»ãªã—
- **æœ€æ–°ç’°å¢ƒ**: å¸¸ã«æœ€æ–°ã®CUDAãƒ»PyTorchç’°å¢ƒ

#### âŒ **GitHub Actions/ãƒ­ãƒ¼ã‚«ãƒ«ã®å•é¡Œ**
- **å®¹é‡ä¸è¶³**: 14GBåˆ¶é™ï¼ˆGitHubï¼‰ã€ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ¶ˆè²»
- **ãƒ“ãƒ«ãƒ‰å¤±æ•—**: `No space left on device`ã‚¨ãƒ©ãƒ¼
- **ç’°å¢ƒä¾å­˜**: ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®è¨­å®šå•é¡Œ
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: å¤§å®¹é‡ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ã®æ¥ç¶šå•é¡Œ

### ğŸš€ **Step 1: RunPodã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•**

#### 1.1 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹è¨­å®š
```
Template: RunPod PyTorch 2.0
GPU: RTX 4090 ä»¥ä¸Šï¼ˆVRAM 24GB+ï¼‰
Container Disk: 50GB ä»¥ä¸Š
Volume: ä¸è¦ï¼ˆãƒ“ãƒ«ãƒ‰ã®ã¿ã®å ´åˆï¼‰
Network Volume: ãªã—
```

#### 1.2 èµ·å‹•æ‰‹é †
1. RunPodãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ **Deploy** ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **Community Cloud** ã‚’é¸æŠï¼ˆã‚³ã‚¹ãƒˆåŠ¹ç‡é‡è¦–ï¼‰
3. ä¸Šè¨˜ã‚¹ãƒšãƒƒã‚¯ã§æ¤œç´¢ãƒ»é¸æŠ
4. **Deploy** ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦èµ·å‹•å¾…æ©Ÿï¼ˆé€šå¸¸1-3åˆ†ï¼‰

#### 1.3 æ¥ç¶šç¢ºèª
1. ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒ **Running** ã«ãªã£ãŸã‚‰ **Connect** ã‚’ã‚¯ãƒªãƒƒã‚¯
2. **Start Web Terminal** ã‚’é¸æŠ
3. Jupyter Labç’°å¢ƒãŒé–‹ã
4. **Terminal** ã‚’é–‹ãï¼ˆæ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¿ãƒ–ï¼‰

### ğŸš€ **Step 2: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**

#### 2.1 ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
```bash
# Web Terminal ã§å®Ÿè¡Œ
git clone https://github.com/mksd9/my-comfy-wan.git
cd my-comfy-wan
```

#### 2.2 ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆç¢ºèª
```bash
# v2.1 ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆç¢ºèª
ls -la
```

æœŸå¾…ã•ã‚Œã‚‹æ§‹æˆï¼š
```
my-comfy-wan/
â”œâ”€â”€ Dockerfile                # æœ€é©åŒ–ã•ã‚ŒãŸãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰
â”œâ”€â”€ build-on-runpod.sh       # å¼·åŒ–ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ setup-interactive.sh     # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ download_models.sh   # ä¸¦åˆ—ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ start.sh                 # ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ docs/                    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â””â”€â”€ README.md               # åŸºæœ¬ã‚¬ã‚¤ãƒ‰
```

### ğŸ¯ **Step 3: ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œï¼ˆ2ã¤ã®æ–¹æ³•ï¼‰**

### æ–¹æ³•A: ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰ï¼ˆåˆå¿ƒè€…æ¨å¥¨ï¼‰

#### 3.1 ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Ÿè¡Œ
```bash
# å®Ÿè¡Œæ¨©é™ä»˜ä¸
chmod +x setup-interactive.sh

# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚¬ã‚¤ãƒ‰é–‹å§‹
./setup-interactive.sh
```

#### 3.2 ã‚¬ã‚¤ãƒ‰ãƒ•ãƒ­ãƒ¼
1. **Welcome Screen**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã¨æ‰€è¦æ™‚é–“ãƒ»ã‚³ã‚¹ãƒˆè¡¨ç¤º
2. **ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶ãƒã‚§ãƒƒã‚¯**: 
   - RunPodç’°å¢ƒæ¤œå‡º
   - ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ç¢ºèªï¼ˆ20GBä»¥ä¸Šï¼‰
   - GPUæƒ…å ±è¡¨ç¤º
3. **Docker Hubèªè¨¼è¨­å®š**:
   - ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³å…¥åŠ›ï¼ˆéè¡¨ç¤ºï¼‰
   - ãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼
   - èªè¨¼ãƒ†ã‚¹ãƒˆ
4. **ãƒ“ãƒ«ãƒ‰è¨­å®šç¢ºèª**:
   - ã‚¤ãƒ¡ãƒ¼ã‚¸åãƒ»ã‚¿ã‚°ç¢ºèª
   - ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ»ã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­å®šè¡¨ç¤º
5. **ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ**:
   - æœ€çµ‚ç¢ºèª
   - `build-on-runpod.sh` è‡ªå‹•å®Ÿè¡Œ
   - çµæœè¡¨ç¤º

#### 3.3 å…¥åŠ›ä¾‹
```bash
# Docker Hubã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³å…¥åŠ›æ™‚
Docker Hubã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„: [ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ãƒšãƒ¼ã‚¹ãƒˆ]
âœ… Docker Hubèªè¨¼æˆåŠŸ

# ãƒ“ãƒ«ãƒ‰ç¢ºèªæ™‚
ã“ã®è¨­å®šã§ãƒ“ãƒ«ãƒ‰ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ (Y/n): Y
```

### æ–¹æ³•B: ç›´æ¥ãƒ“ãƒ«ãƒ‰ï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰

#### 3.1 èªè¨¼è¨­å®š
```bash
# Docker Hubèªè¨¼æƒ…å ±è¨­å®š
export DOCKER_PASSWORD='your_docker_hub_access_token'

# è¨­å®šç¢ºèª
echo "Docker password set: ${DOCKER_PASSWORD:0:10}..."
```

#### 3.2 ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ
```bash
# å®Ÿè¡Œæ¨©é™ä»˜ä¸
chmod +x build-on-runpod.sh

# ãƒ“ãƒ«ãƒ‰é–‹å§‹
./build-on-runpod.sh
```

### ğŸ”§ **Step 4: ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹è©³ç´°**

#### 4.1 è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†

**Phase 1: ç’°å¢ƒãƒã‚§ãƒƒã‚¯**
```bash
# ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±è¡¨ç¤º
ğŸ“Š System Information:
   OS: Linux runpod-xxx 5.4.0-xxx-generic
   Docker Version: Docker version 24.0.x
   Available Space: 45G
   GPU Info: NVIDIA GeForce RTX 4090, 24564MB

# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šç¢ºèª
ğŸŒ Checking network connectivity...
âœ… Docker Hubæ¥ç¶šç¢ºèª
âœ… GitHubæ¥ç¶šç¢ºèª
```

**Phase 2: Dockerç’°å¢ƒæº–å‚™**
```bash
# ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
ğŸ”§ Setting up Docker environment...
âœ… Dockerç’°å¢ƒã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†

# BuildKitè¨­å®š
ğŸ—ï¸ Creating BuildKit builder...
âœ… BuildKitãƒ“ãƒ«ãƒ€ãƒ¼ä½œæˆå®Œäº†
âœ… BuildKitãƒ“ãƒ«ãƒ€ãƒ¼åˆæœŸåŒ–å®Œäº†
```

**Phase 3: ãƒ“ãƒ«ãƒ‰å®Ÿè¡Œ**
```bash
# ãƒ“ãƒ«ãƒ‰è¨­å®šè¡¨ç¤º
ğŸ”¨ Building Docker image...
æ¨å®šå®Œäº†æ™‚é–“: 20-30åˆ†ï¼ˆåˆå›ï¼‰ã€12-18åˆ†ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ã‚Šï¼‰
RunPodæ¨å®šã‚³ã‚¹ãƒˆ: $2-4ï¼ˆRTX 4090ï¼‰

ğŸ“Š ãƒ“ãƒ«ãƒ‰è¨­å®š:
   ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ : linux/amd64
   ã‚¿ã‚°: nobukoyo/comfyui-wan-runpod:latest, nobukoyo/comfyui-wan-runpod:20240117
   ã‚­ãƒ£ãƒƒã‚·ãƒ¥: Registry cache (Docker Hub)
   é€²æ—è¡¨ç¤º: è©³ç´°ãƒ¢ãƒ¼ãƒ‰
```

**Phase 4: ä¸¦åˆ—ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆv2.1æ–°æ©Ÿèƒ½ï¼‰**
```bash
# ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ä¸¦åˆ—å–å¾—
ğŸš€ Optimized WAN Model Downloader
ğŸ“Š Download Summary:
   âœ“ wan2.1-t2v-14b-Q4_K_S.gguf (7.8GB)
   âœ“ umt5-xxl-encoder-Q5_K_S.gguf (2.1GB)
   âœ“ wan_2.1_vae.safetensors (1.2GB)
   âœ“ Wan21_T2V_14B_lightx2v_cfg_step_distill_lora_rank32.safetensors (186MB)
   ğŸ“¦ Total size: 11.3GB
```

**Phase 5: å®Œäº†ãƒ»æ¤œè¨¼**
```bash
# ãƒ“ãƒ«ãƒ‰çµæœ
ğŸ‰ Build completed successfully!

ğŸ“Š ãƒ“ãƒ«ãƒ‰çµæœ:
   â±ï¸  ãƒ“ãƒ«ãƒ‰æ™‚é–“: 23m 45s
   ğŸ·ï¸  ã‚¤ãƒ¡ãƒ¼ã‚¸: nobukoyo/comfyui-wan-runpod:latest
   ğŸ“… æ—¥ä»˜ã‚¿ã‚°: nobukoyo/comfyui-wan-runpod:20240117
   ğŸ’° æ¨å®šã‚³ã‚¹ãƒˆ: $2.38

# Docker Hubç¢ºèª
ğŸ” Verifying Docker Hub push...
âœ… Docker Hubã¸ã®ãƒ—ãƒƒã‚·ãƒ¥æˆåŠŸã‚’ç¢ºèª
   ğŸ“¦ ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚º: 16,847MB
```

### ğŸ‰ **Step 5: ãƒ“ãƒ«ãƒ‰å®Œäº†å¾Œã®æ‰‹é †**

#### 5.1 æˆåŠŸç¢ºèª
```bash
# æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
ğŸ¬ Ready to deploy on RunPod!
Container Image: nobukoyo/comfyui-wan-runpod:latest
Container Start Command: /start.sh
Ports: 6006, 8888

ğŸ”— Docker Hub: https://hub.docker.com/r/nobukoyo/comfyui-wan-runpod
ğŸ“š Deploy Guide: https://github.com/mksd9/my-comfy-wan#readme
```

#### 5.2 ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹çµ‚äº†
```bash
# ä½œæ¥­å®Œäº†å¾Œã€RunPodã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åœæ­¢
# RunPodãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ "Stop" ã‚’ã‚¯ãƒªãƒƒã‚¯
# æ–™é‡‘èª²é‡‘ãŒåœæ­¢ã•ã‚Œã¾ã™
```

#### 5.3 ãƒ“ãƒ«ãƒ‰æˆæœç‰©
- **Docker Hub**: `nobukoyo/comfyui-wan-runpod:latest`
- **æ—¥ä»˜ã‚¿ã‚°**: `nobukoyo/comfyui-wan-runpod:YYYYMMDD`
- **ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚µã‚¤ã‚º**: ç´„15-18GB
- **å«æœ‰ãƒ¢ãƒ‡ãƒ«**: WAN 2.1 å®Œå…¨ã‚»ãƒƒãƒˆ
- **ã‚µãƒ¼ãƒ“ã‚¹**: ComfyUI + Jupyter Lab

---

## ğŸ“¦ äº‹å‰ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä½¿ç”¨

### ğŸ¯ **ã„ã¤ä½¿ç”¨ã™ã‚‹ã‹**
- ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã—ãŸã„å ´åˆ
- RunPodã§ã®ä½œæ¥­ã‚’ã™ãã«é–‹å§‹ã—ãŸã„å ´åˆ
- ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹ã‚’çœç•¥ã—ãŸã„å ´åˆ

### âš ï¸ **æ³¨æ„äº‹é …**
- äº‹å‰ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯**æ›´æ–°é »åº¦ãŒä½ã„**å ´åˆãŒã‚ã‚Šã¾ã™
- æœ€æ–°æ©Ÿèƒ½ã«ã¯**RunPodä¸Šã§ã®ãƒ“ãƒ«ãƒ‰**ã‚’æ¨å¥¨ã—ã¾ã™
- Custom Nodesã¯èµ·å‹•æ™‚ã«**æœ€æ–°ç‰ˆã«è‡ªå‹•æ›´æ–°**ã•ã‚Œã¾ã™

### ğŸ“‹ **ä½¿ç”¨æ‰‹é †**

#### Step 1: RunPodãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š
```
Container Image: nobukoyo/comfyui-wan-runpod:latest
Container Start Command: /start.sh
Expose HTTP Ports: 6006,8888
```

#### Step 2: æ¨å¥¨ã‚¹ãƒšãƒƒã‚¯
```
GPU: RTX 4090 (24GB VRAM) ä»¥ä¸Š
Container Disk: 40GB ä»¥ä¸Š
Volume Disk: 50GB+ ï¼ˆæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨æ™‚ï¼‰
```

#### Step 3: ç’°å¢ƒå¤‰æ•°ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```
RUNPOD_VOLUME_PATH: /workspace ï¼ˆæ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨æ™‚ï¼‰
```

#### Step 4: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•
1. ä¸Šè¨˜è¨­å®šã§RunPodãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆ
2. ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•
3. èµ·å‹•å®Œäº†ã¾ã§**3-5åˆ†å¾…æ©Ÿ**ï¼ˆåˆå›ã®ã¿Custom Nodesæ›´æ–°ï¼‰

---

## ğŸ¨ RunPodç’°å¢ƒã§ã®ä½¿ç”¨æ–¹æ³•

### ğŸš€ **èµ·å‹•ãƒ—ãƒ­ã‚»ã‚¹**

#### è‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†
1. **ç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**: ãƒ¢ãƒ‡ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ç¢ºèªãƒ»ä½œæˆ
2. **æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å¯¾å¿œ**: Volumeè¨­å®šæ™‚ã®è‡ªå‹•ãƒã‚¦ãƒ³ãƒˆãƒ»åŒæœŸ
3. **ãƒ¢ãƒ‡ãƒ«ç¢ºèª**: äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸWANãƒ¢ãƒ‡ãƒ«ã®å­˜åœ¨ç¢ºèª
4. **ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ç¢ºèª**: æœ€æ–°ç‰ˆcustom nodesã®å­˜åœ¨ãƒ»æ›´æ–°ç¢ºèª
5. **ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•**: Jupyter Lab (8888) â†’ ComfyUI (6006) ã®é †æ¬¡èµ·å‹•

#### æœŸå¾…ã•ã‚Œã‚‹èµ·å‹•ãƒ­ã‚°
```bash
ğŸš€ ComfyUI WAN RunPod Template Starting...
[INFO] Using built-in models (models are pre-installed in image)
[INFO] âœ“ WAN T2V model found
[INFO] âœ“ UMT5 encoder found  
[INFO] âœ“ WAN VAE found
[INFO] âœ“ WAN LoRA found
[INFO] âœ“ ComfyUI-Manager found
[INFO] âœ“ ComfyUI-GGUF found

ğŸ“Š Setup Summary:
   Custom nodes: 6 latest versions installed
   Models: 4 files ready
   CUDA available: True

ğŸ”¬ Starting Jupyter Lab...
[INFO] Jupyter Lab started on port 8888
ğŸ¨ Starting ComfyUI...
[INFO] ComfyUI and Jupyter Lab are now running:
  - ComfyUI: http://localhost:6006
  - Jupyter Lab: http://localhost:8888

ğŸ¬ Ready to generate videos with WAN!
```

### ğŸ–¥ï¸ **ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•**

#### ComfyUIï¼ˆãƒ¡ã‚¤ãƒ³UIï¼‰
1. RunPod ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ **HTTP ã‚µãƒ¼ãƒ“ã‚¹ Port 6006** ã® **Connect** ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ComfyUIã®ãƒ¡ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒé–‹ã
3. WAN 2.1 ãƒãƒ¼ãƒ‰ãŒè‡ªå‹•çš„ã«åˆ©ç”¨å¯èƒ½

#### Jupyter Labï¼ˆé–‹ç™ºãƒ»åˆ†æï¼‰
1. RunPod ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ **HTTP ã‚µãƒ¼ãƒ“ã‚¹ Port 8888** ã® **Connect** ã‚’ã‚¯ãƒªãƒƒã‚¯
2. Jupyter Labã®é–‹ç™ºç’°å¢ƒãŒé–‹ã
3. `/workspace/notebooks/` ã§ä½œæ¥­é–‹å§‹

### ğŸ¬ **ComfyUI ã§ã® WAN ãƒ“ãƒ‡ã‚ªç”Ÿæˆ**

#### åŸºæœ¬ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
1. **Text Input**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›
2. **UMT5 Encoder**: ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
3. **WAN T2V Model**: ãƒ“ãƒ‡ã‚ªç”Ÿæˆï¼ˆGGUFï¼‰
4. **WAN VAE**: ãƒ“ãƒ‡ã‚ªãƒ‡ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
5. **Video Output**: æœ€çµ‚ãƒ“ãƒ‡ã‚ªå‡ºåŠ›

#### æ¨å¥¨è¨­å®š
```
Resolution: 512x512 ï¼ˆåˆæœŸãƒ†ã‚¹ãƒˆï¼‰
Frame Count: 16-24 ï¼ˆçŸ­ã„ãƒ†ã‚¹ãƒˆï¼‰
Steps: 20-30 ï¼ˆãƒãƒ©ãƒ³ã‚¹é‡è¦–ï¼‰
CFG Scale: 7.0-8.0 ï¼ˆæ¨å¥¨ç¯„å›²ï¼‰
```

#### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­å®š
```
Batch Size: 1 ï¼ˆãƒ¡ãƒ¢ãƒªç¯€ç´„ï¼‰
Precision: fp16 ï¼ˆé€Ÿåº¦é‡è¦–ï¼‰
Memory Management: --use-split-cross-attention ï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡ï¼‰
```

### ğŸ”¬ **Jupyter Lab æ´»ç”¨æ–¹æ³•**

#### ä¸»ãªç”¨é€”
1. **ComfyUI API æ“ä½œ**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‹ã‚‰ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’åˆ¶å¾¡
2. **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®è‡ªå‹•ç”Ÿæˆ
3. **ãƒ“ãƒ‡ã‚ªåˆ†æ**: ç”Ÿæˆãƒ“ãƒ‡ã‚ªã®å“è³ªè©•ä¾¡ãƒ»ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿å‡¦ç†
4. **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°**: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æœ€é©åŒ–å®Ÿé¨“
5. **ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰é–‹ç™º**: æ–°æ©Ÿèƒ½ã®é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ

#### äº‹å‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
```python
# ãƒ‡ãƒ¼ã‚¿å‡¦ç†
import pandas as pd
import numpy as np

# ç”»åƒãƒ»ãƒ“ãƒ‡ã‚ªå‡¦ç†
import cv2
from PIL import Image

# å¯è¦–åŒ–
import matplotlib.pyplot as plt
import seaborn as sns
import plotly.express as px

# æ©Ÿæ¢°å­¦ç¿’
import torch
import torchvision

# Jupyteræ‹¡å¼µ
import ipywidgets as widgets
```

#### ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ä¾‹
```python
# ComfyUI API çµŒç”±ã§ã®ãƒ“ãƒ‡ã‚ªç”Ÿæˆ
import requests
import json

def generate_video(prompt, steps=25):
    workflow = {
        "prompt": prompt,
        "steps": steps,
        "cfg_scale": 7.5,
        "width": 512,
        "height": 512,
        "frames": 16
    }
    
    response = requests.post(
        "http://localhost:6006/api/prompt",
        json={"prompt": workflow}
    )
    
    return response.json()

# ä½¿ç”¨ä¾‹
result = generate_video("A cat dancing in the moonlight")
print(f"Generation ID: {result['prompt_id']}")
```

### ğŸ’¾ **æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ´»ç”¨**

#### è¨­å®šæ–¹æ³•
```
Volume Disk: 50GB+ ã‚’è¨­å®š
Volume Mount Path: /workspace
Environment Variable: RUNPOD_VOLUME_PATH=/workspace
```

#### è‡ªå‹•åŒæœŸã•ã‚Œã‚‹å†…å®¹
- **Generated Videos**: `/workspace/output/`
- **Custom Workflows**: `/workspace/workflows/`
- **Notebooks**: `/workspace/notebooks/`
- **Models**: `/workspace/models/` ï¼ˆåˆå›ã‚³ãƒ”ãƒ¼å¾Œï¼‰

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ
```
/workspace/
â”œâ”€â”€ models/              # ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆæ°¸ç¶šåŒ–ï¼‰
â”‚   â”œâ”€â”€ unet/
â”‚   â”œâ”€â”€ clip/
â”‚   â”œâ”€â”€ vae/
â”‚   â””â”€â”€ loras/
â”œâ”€â”€ output/              # ç”Ÿæˆãƒ“ãƒ‡ã‚ª
â”œâ”€â”€ workflows/           # ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
â””â”€â”€ notebooks/           # Jupyter notebooks
```

---

## ğŸ› ï¸ é–‹ç™ºãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ğŸ“¦ **ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰è¿½åŠ **

#### æ‰‹å‹•è¿½åŠ æ–¹æ³•
```bash
# ã‚³ãƒ³ãƒ†ãƒŠå†…ã§å®Ÿè¡Œ
cd /ComfyUI/custom_nodes
git clone https://github.com/[author]/[custom-node].git
cd [custom-node]
pip install -r requirements.txt
python install.py  # å­˜åœ¨ã™ã‚‹å ´åˆ
```

#### ComfyUI-Managerä½¿ç”¨
1. ComfyUI ã§ Manager ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é–‹ã
2. **Install Custom Nodes** ã‚’ã‚¯ãƒªãƒƒã‚¯
3. æ¤œç´¢ãƒ»ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
4. ComfyUI å†èµ·å‹•

### ğŸ¤– **è¿½åŠ ãƒ¢ãƒ‡ãƒ«å°å…¥**

#### HuggingFace ã‹ã‚‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
```bash
# ä¾‹: è¿½åŠ ã®LoRAãƒ¢ãƒ‡ãƒ«
cd /ComfyUI/models/loras
wget https://huggingface.co/[user]/[model]/resolve/main/[model_file].safetensors

# ä¾‹: è¿½åŠ ã®VAEãƒ¢ãƒ‡ãƒ«
cd /ComfyUI/models/vae  
wget https://huggingface.co/[user]/[vae]/resolve/main/[vae_file].safetensors
```

#### Civitai ã‹ã‚‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
```bash
# Civitai URL ã‹ã‚‰ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
cd /ComfyUI/models/loras
curl -L -o model_name.safetensors "https://civitai.com/api/download/models/[model_id]"
```

### ğŸ”§ **ç’°å¢ƒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**

#### Python ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
```bash
# pip install
pip install [package_name]

# requirements.txtã«è¿½åŠ ï¼ˆæ°¸ç¶šåŒ–ï¼‰
echo "[package_name]" >> /ComfyUI/requirements.txt
```

#### èµ·å‹•ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
```bash
# start.sh ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º
# æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨æ™‚ã¯ /workspace/start_custom.sh ã«ä¿å­˜
vim /workspace/start_custom.sh
chmod +x /workspace/start_custom.sh
```

### ğŸ”¬ **APIé–‹ç™º**

#### ComfyUI API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
```python
# åŸºæœ¬ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
BASE_URL = "http://localhost:6006"

# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œ
POST /api/prompt
GET /api/queue
GET /api/history

# ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±
GET /api/system_stats
GET /api/embeddings
```

#### ã‚µãƒ³ãƒ—ãƒ« API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
```python
import requests
import json
import time

class ComfyUIClient:
    def __init__(self, base_url="http://localhost:6006"):
        self.base_url = base_url
    
    def queue_prompt(self, workflow):
        """ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ """
        response = requests.post(
            f"{self.base_url}/api/prompt",
            json={"prompt": workflow}
        )
        return response.json()
    
    def get_history(self, prompt_id):
        """å®Ÿè¡Œå±¥æ­´ã‚’å–å¾—"""
        response = requests.get(
            f"{self.base_url}/api/history/{prompt_id}"
        )
        return response.json()
    
    def wait_for_completion(self, prompt_id, timeout=300):
        """å®Œäº†ã¾ã§å¾…æ©Ÿ"""
        start_time = time.time()
        while time.time() - start_time < timeout:
            history = self.get_history(prompt_id)
            if prompt_id in history:
                return history[prompt_id]
            time.sleep(2)
        raise TimeoutError("Generation timed out")

# ä½¿ç”¨ä¾‹
client = ComfyUIClient()
workflow = {...}  # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©
result = client.queue_prompt(workflow)
completion = client.wait_for_completion(result["prompt_id"])
```

---

## ğŸš¨ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ”§ **ãƒ“ãƒ«ãƒ‰é–¢é€£ã®å•é¡Œ**

#### å•é¡Œ: `No space left on device`
```bash
# åŸå› : ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³
# è§£æ±º: Container Disk ã‚’ 50GB+ ã«è¨­å®š

# å¯¾å‡¦: æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
docker system prune -a -f
docker buildx prune -a -f
df -h  # å®¹é‡ç¢ºèª
```

#### å•é¡Œ: Docker Hubèªè¨¼ã‚¨ãƒ©ãƒ¼
```bash
# åŸå› : ç„¡åŠ¹ãªã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³
# ç¢ºèª: ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æ€§
echo $DOCKER_PASSWORD

# è§£æ±º: æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ
# 1. Docker Hub > Account Settings > Security
# 2. New Access Token ä½œæˆ
# 3. å†è¨­å®š
export DOCKER_PASSWORD='new_token'
docker login -u nobukoyo
```

#### å•é¡Œ: ãƒ“ãƒ«ãƒ‰ä¸­æ–­ãƒ»å¤±æ•—
```bash
# å¯¾å‡¦: å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
docker buildx rm runpod-builder 2>/dev/null || true
docker system prune -a -f
docker buildx prune -a -f

# å†ãƒ­ã‚°ã‚¤ãƒ³
docker logout && docker login -u nobukoyo

# å†ãƒ“ãƒ«ãƒ‰
./build-on-runpod.sh
```

#### å•é¡Œ: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚¨ãƒ©ãƒ¼
```bash
# è¨ºæ–­: æ¥ç¶šç¢ºèª
curl -s https://hub.docker.com
curl -s https://github.com
curl -s https://huggingface.co

# å¯¾å‡¦: RunPodãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å†èµ·å‹•
# RunPodãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å†èµ·å‹•
```

### ğŸ–¥ï¸ **RunPodå®Ÿè¡Œæ™‚ã®å•é¡Œ**

#### å•é¡Œ: ComfyUIãŒèµ·å‹•ã—ãªã„
```bash
# è¨ºæ–­: ãƒ­ã‚°ç¢ºèª
docker logs [container_id]

# å¯¾å‡¦: æ‰‹å‹•èµ·å‹•
cd /ComfyUI
python main.py --listen 0.0.0.0 --port 6006

# GPUç¢ºèª
nvidia-smi
python -c "import torch; print(torch.cuda.is_available())"
```

#### å•é¡Œ: Jupyter Labã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
```bash
# è¨ºæ–­: ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
ps aux | grep jupyter

# å¯¾å‡¦: æ‰‹å‹•èµ·å‹•
jupyter lab --ip=0.0.0.0 --port=8888 --allow-root --no-browser

# ãƒ­ã‚°ç¢ºèª
cat /tmp/jupyter.log
```

#### å•é¡Œ: ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„
```bash
# è¨ºæ–­: ãƒ•ã‚¡ã‚¤ãƒ«ç¢ºèª
ls -la /ComfyUI/models/unet/
ls -la /ComfyUI/models/clip/
ls -la /ComfyUI/models/vae/
ls -la /ComfyUI/models/loras/

# å¯¾å‡¦: æ‰‹å‹•ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
cd /ComfyUI/models/unet
wget https://huggingface.co/city96/Wan2.1-T2V-14B-gguf/resolve/main/wan2.1-t2v-14b-Q4_K_S.gguf
```

### ğŸ¬ **ãƒ“ãƒ‡ã‚ªç”Ÿæˆã®å•é¡Œ**

#### å•é¡Œ: Out of Memory (OOM) ã‚¨ãƒ©ãƒ¼
```bash
# å¯¾å‡¦: ãƒ¡ãƒ¢ãƒªåŠ¹ç‡è¨­å®š
--use-split-cross-attention
--lowvram  # 8GBæœªæº€ã®GPU

# ComfyUIã§ã®è¨­å®š
Batch Size: 1
Resolution: 512x512 (åˆæœŸ)
Frame Count: 8-16 (çŸ­ç¸®)
```

#### å•é¡Œ: ç”ŸæˆãŒé…ã„
```bash
# æœ€é©åŒ–: GPUä½¿ç”¨ç‡ç¢ºèª
nvidia-smi -l 1

# è¨­å®šèª¿æ•´
Steps: 20-25 (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
CFG Scale: 7.0-8.0
Precision: fp16
```

#### å•é¡Œ: å“è³ªãŒä½ã„
```bash
# æ”¹å–„: è¨­å®šèª¿æ•´
Steps: 30-50 (å“è³ªé‡è¦–)
CFG Scale: 8.0-10.0
Resolution: 768x768 (é«˜è§£åƒåº¦)
Sampler: DPM++ 2M Karras
```

### ğŸ”— **æ¥ç¶šãƒ»ã‚¢ã‚¯ã‚»ã‚¹ã®å•é¡Œ**

#### å•é¡Œ: RunPod HTTPã‚µãƒ¼ãƒ“ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„
```bash
# ç¢ºèª: ãƒãƒ¼ãƒˆè¨­å®š
# RunPodãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ 6006,8888 ãŒ Expose ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

# å¯¾å‡¦: ãƒãƒ¼ãƒˆè¿½åŠ 
# Templateè¨­å®šã§ Expose HTTP Ports: 6006,8888
```

#### å•é¡Œ: ã€Œæ¥ç¶šãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸã€ã‚¨ãƒ©ãƒ¼
```bash
# åŸå› : ã‚µãƒ¼ãƒ“ã‚¹æœªèµ·å‹•ã¾ãŸã¯ã‚¯ãƒ©ãƒƒã‚·ãƒ¥
# å¯¾å‡¦: ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•
# RunPodãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ "Restart" ã‚’ã‚¯ãƒªãƒƒã‚¯

# æ‰‹å‹•ç¢ºèª
curl http://localhost:6006
curl http://localhost:8888
```

### ğŸ“ **æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®å•é¡Œ**

#### å•é¡Œ: ãƒ•ã‚¡ã‚¤ãƒ«ãŒä¿å­˜ã•ã‚Œãªã„
```bash
# ç¢ºèª: Volumeè¨­å®š
echo $RUNPOD_VOLUME_PATH
ls -la /workspace

# å¯¾å‡¦: Volume Mount Path ç¢ºèª
# RunPodè¨­å®šã§ "/workspace" ã«æ­£ã—ããƒã‚¦ãƒ³ãƒˆã•ã‚Œã¦ã„ã‚‹ã‹
```

#### å•é¡Œ: ãƒ¢ãƒ‡ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ãŒé‡è¤‡ã™ã‚‹
```bash
# åŸå› : åˆå›ã‚³ãƒ”ãƒ¼ã®é‡è¤‡
# å¯¾å‡¦: ã‚·ãƒ³ãƒœãƒªãƒƒã‚¯ãƒªãƒ³ã‚¯ç¢ºèª
ls -la /ComfyUI/models
# -> /workspace/models ã¸ã®ãƒªãƒ³ã‚¯ã«ãªã£ã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯

# æ‰‹å‹•ä¿®æ­£
rm -rf /ComfyUI/models
ln -s /workspace/models /ComfyUI/models
```

### ğŸ”„ **ä¸€èˆ¬çš„ãªå¾©æ—§æ‰‹é †**

#### ãƒ¬ãƒ™ãƒ«1: ã‚µãƒ¼ãƒ“ã‚¹å†èµ·å‹•
```bash
# ComfyUIå†èµ·å‹•
pkill -f "python main.py"
cd /ComfyUI && python main.py --listen 0.0.0.0 --port 6006 &

# Jupyter Labå†èµ·å‹•  
pkill -f "jupyter lab"
jupyter lab --ip=0.0.0.0 --port=8888 --allow-root --no-browser &
```

#### ãƒ¬ãƒ™ãƒ«2: ã‚³ãƒ³ãƒ†ãƒŠå†èµ·å‹•
```bash
# RunPodãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§ "Restart" ã‚’ã‚¯ãƒªãƒƒã‚¯
# è‡ªå‹•çš„ã« /start.sh ãŒå†å®Ÿè¡Œã•ã‚Œã‚‹
```

#### ãƒ¬ãƒ™ãƒ«3: æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹
```bash
# æ—¢å­˜ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åœæ­¢
# æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹èµ·å‹•
# æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨æ™‚ã¯ãƒ‡ãƒ¼ã‚¿ä¿æŒã•ã‚Œã‚‹
```

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ»ã‚³ã‚¹ãƒˆ

### âš¡ **v2.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š**

#### ãƒ“ãƒ«ãƒ‰æ™‚é–“æ¯”è¼ƒ
| é …ç›® | v1.0 | v2.1 | æ”¹å–„ç‡ |
|------|------|------|--------|
| åˆå›ãƒ“ãƒ«ãƒ‰ | 25-35åˆ† | 20-30åˆ† | **20%é«˜é€ŸåŒ–** |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚ã‚Š | 15-20åˆ† | 12-18åˆ† | **25%é«˜é€ŸåŒ–** |
| ãƒ¢ãƒ‡ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | é †æ¬¡ | ä¸¦åˆ— | **50%é«˜é€ŸåŒ–** |
| ã‚¨ãƒ©ãƒ¼å›å¾© | æ‰‹å‹• | è‡ªå‹• | **è‡ªå‹•åŒ–** |

#### æŠ€è¡“çš„æ”¹å–„
| æ©Ÿèƒ½ | v1.0 | v2.1 | åŠ¹æœ |
|------|------|------|------|
| ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | wgeté †æ¬¡ | curlä¸¦åˆ— | é«˜é€ŸåŒ– |
| ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | BuildKit | Registry + BuildKit | åŠ¹ç‡å‘ä¸Š |
| ã‚¨ãƒ©ãƒ¼å‡¦ç† | åŸºæœ¬ | 3æ®µéšãƒªãƒˆãƒ©ã‚¤ | ä¿¡é ¼æ€§å‘ä¸Š |
| é€²æ—è¡¨ç¤º | åŸºæœ¬ | è©³ç´°+ã‚³ã‚¹ãƒˆ | UXå‘ä¸Š |

### ğŸ’° **ã‚³ã‚¹ãƒˆè©³ç´°åˆ†æ**

#### RunPodæ–™é‡‘ä½“ç³»ï¼ˆ2024å¹´1æœˆç¾åœ¨ï¼‰
| GPU | VRAM | æ–™é‡‘/åˆ† | æ–™é‡‘/æ™‚ | ãƒ“ãƒ«ãƒ‰æ–™é‡‘ | å®Ÿè¡Œæ–™é‡‘ |
|-----|------|---------|----------|-----------|----------|
| RTX 4090 | 24GB | $0.06 | $3.60 | $2.0-3.0 | $3.60 |
| RTX A6000 | 48GB | $0.08 | $4.80 | $2.5-4.0 | $4.80 |
| H100 | 80GB | $0.15 | $9.00 | $4.0-6.0 | $9.00 |

#### ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³åˆ¥ã‚³ã‚¹ãƒˆ
| ä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ | é »åº¦ | æœˆé–“æ™‚é–“ | RTX 4090 | RTX A6000 | H100 |
|-------------|------|----------|----------|-----------|------|
| è©¦ç”¨ï¼ˆãƒ“ãƒ«ãƒ‰+ãƒ†ã‚¹ãƒˆï¼‰ | 1å› | 2æ™‚é–“ | $7.20 | $9.60 | $18.00 |
| è»½åº¦ä½¿ç”¨ | é€±1å› | 10æ™‚é–“ | $36.00 | $48.00 | $90.00 |
| ä¸­åº¦ä½¿ç”¨ | é€±3å› | 30æ™‚é–“ | $108.00 | $144.00 | $270.00 |
| é‡åº¦ä½¿ç”¨ | æ¯æ—¥ | 100æ™‚é–“ | $360.00 | $480.00 | $900.00 |

#### ã‚³ã‚¹ãƒˆæœ€é©åŒ–æˆ¦ç•¥

**ãƒ“ãƒ«ãƒ‰æœ€é©åŒ–**
- v2.1ä½¿ç”¨ã§20-25%æ™‚çŸ­ â†’ $0.5-1.0ç¯€ç´„
- Registry cacheã§å†ãƒ“ãƒ«ãƒ‰50%æ™‚çŸ­ â†’ $1.0-2.0ç¯€ç´„

**å®Ÿè¡Œæœ€é©åŒ–**
- æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸æ´»ç”¨ã§èµ·å‹•æ™‚é–“çŸ­ç¸®
- é©åˆ‡ãªGPUé¸æŠï¼ˆRTX 4090ã§ååˆ†ãªå ´åˆï¼‰
- ãƒãƒƒãƒå‡¦ç†ã§GPUåŠ¹ç‡å‘ä¸Š

**æ–™é‡‘ç¯€ç´„Tips**
```bash
# 1. ä½œæ¥­çµ‚äº†å¾Œã¯å¿…ãšã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åœæ­¢
# 2. Community Cloudä½¿ç”¨ï¼ˆSecure Cloudã‚ˆã‚Šå®‰ä¾¡ï¼‰
# 3. Spotã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åˆ©ç”¨ï¼ˆ50%å‰²å¼•ã€ä¸­æ–­ãƒªã‚¹ã‚¯æœ‰ï¼‰
# 4. è¤‡æ•°ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ãƒãƒƒãƒå‡¦ç†
```

### ğŸ¯ **æ¨å¥¨GPUé¸æŠã‚¬ã‚¤ãƒ‰**

#### RTX 4090ï¼ˆæ¨å¥¨ï¼‰
**é©ç”¨å ´é¢**
- ä¸€èˆ¬çš„ãªãƒ“ãƒ‡ã‚ªç”Ÿæˆï¼ˆ512x512ã€16-24ãƒ•ãƒ¬ãƒ¼ãƒ ï¼‰
- å­¦ç¿’ãƒ»å®Ÿé¨“ç”¨é€”
- ã‚³ã‚¹ãƒˆé‡è¦–

**æ€§èƒ½ç›®å®‰**
- 512x512ã€16ãƒ•ãƒ¬ãƒ¼ãƒ : 2-4åˆ†
- 768x768ã€24ãƒ•ãƒ¬ãƒ¼ãƒ : 8-12åˆ†
- ãƒãƒƒãƒã‚µã‚¤ã‚º: 1-2

#### RTX A6000ï¼ˆé«˜æ€§èƒ½ï¼‰
**é©ç”¨å ´é¢**
- é«˜è§£åƒåº¦ãƒ“ãƒ‡ã‚ªï¼ˆ768x768+ï¼‰
- é•·æ™‚é–“ãƒ“ãƒ‡ã‚ªï¼ˆ32ãƒ•ãƒ¬ãƒ¼ãƒ +ï¼‰
- å•†ç”¨ãƒ»ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ç”¨é€”

**æ€§èƒ½ç›®å®‰**
- 768x768ã€24ãƒ•ãƒ¬ãƒ¼ãƒ : 4-6åˆ†
- 1024x1024ã€32ãƒ•ãƒ¬ãƒ¼ãƒ : 12-20åˆ†
- ãƒãƒƒãƒã‚µã‚¤ã‚º: 2-4

#### H100ï¼ˆæœ€é«˜æ€§èƒ½ï¼‰
**é©ç”¨å ´é¢**
- å¤§è¦æ¨¡ãƒãƒƒãƒå‡¦ç†
- ç ”ç©¶é–‹ç™ºç”¨é€”
- æœ€é«˜å“è³ªãƒ»é€Ÿåº¦è¦æ±‚

**æ€§èƒ½ç›®å®‰**
- 768x768ã€24ãƒ•ãƒ¬ãƒ¼ãƒ : 1-3åˆ†
- 1024x1024ã€32ãƒ•ãƒ¬ãƒ¼ãƒ : 6-10åˆ†
- ãƒãƒƒãƒã‚µã‚¤ã‚º: 4-8

### ğŸ“ˆ **ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœ**

#### ãƒ“ãƒ‡ã‚ªç”Ÿæˆæ€§èƒ½ï¼ˆv2.1ï¼‰
| è¨­å®š | RTX 4090 | RTX A6000 | H100 |
|------|----------|-----------|------|
| 512x512, 16f, steps=25 | 2.5åˆ† | 1.8åˆ† | 0.9åˆ† |
| 768x768, 24f, steps=25 | 8.2åˆ† | 5.1åˆ† | 2.8åˆ† |
| 512x512, 32f, steps=35 | 7.8åˆ† | 4.9åˆ† | 2.5åˆ† |

#### ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡
| è¨­å®š | VRAMä½¿ç”¨é‡ | æ¨å¥¨GPU |
|------|------------|---------|
| 512x512, 16f | 12-16GB | RTX 4090+ |
| 768x768, 24f | 18-22GB | RTX 4090+ |
| 1024x1024, 32f | 28-35GB | RTX A6000+ |

---

## â“ ã‚ˆãã‚ã‚‹è³ªå• (FAQ)

### ğŸ¤” **ä¸€èˆ¬çš„ãªè³ªå•**

#### Q: WAN 2.1 ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ
**A:** WAN (Weighted Attention Networks) 2.1 ã¯ã€Text-to-Videoç”Ÿæˆã«ç‰¹åŒ–ã—ãŸæœ€æ–°ã®AIãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‹ã‚‰é«˜å“è³ªãªãƒ“ãƒ‡ã‚ªã‚’ç”Ÿæˆã§ãã¾ã™ã€‚

#### Q: ComfyUIã¨Stable Diffusion WebUIã®é•ã„ã¯ï¼Ÿ
**A:** 
- **ComfyUI**: ãƒãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é‡è¦–ã€é«˜åº¦ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½
- **SD WebUI**: ãƒ¦ãƒ¼ã‚¶ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã€ç”»åƒç”Ÿæˆä¸­å¿ƒã€ã‚·ãƒ³ãƒ—ãƒ«ãªUI
- **WANå¯¾å¿œ**: ComfyUIãŒæœ€é©åŒ–ã•ã‚Œã¦ã„ã¾ã™

#### Q: ç”Ÿæˆã•ã‚ŒãŸãƒ“ãƒ‡ã‚ªã®å•†ç”¨åˆ©ç”¨ã¯å¯èƒ½ã§ã™ã‹ï¼Ÿ
**A:** ãƒ¢ãƒ‡ãƒ«ã”ã¨ã«ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãŒç•°ãªã‚Šã¾ã™ã€‚WAN 2.1ã®å…·ä½“çš„ãªåˆ©ç”¨è¦ç´„ã‚’HuggingFaceã§ç¢ºèªã—ã¦ãã ã•ã„ã€‚

### ğŸš€ **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—é–¢é€£**

#### Q: ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ“ãƒ«ãƒ‰ã§ãã¾ã›ã‚“ã‹ï¼Ÿ
**A:** æŠ€è¡“çš„ã«ã¯å¯èƒ½ã§ã™ãŒã€ä»¥ä¸‹ã®ç†ç”±ã§RunPodã‚’æ¨å¥¨ã—ã¾ã™ï¼š
- 20GB+ã®å®¹é‡ãŒå¿…è¦
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¸¯åŸŸã¨æ™‚é–“ãŒå¤§é‡ã«å¿…è¦
- CUDAç’°å¢ƒã®è¨­å®šãŒè¤‡é›‘
- v2.1ã®æœ€é©åŒ–æ©Ÿèƒ½ãŒRunPodç’°å¢ƒå‘ã‘

#### Q: ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹æ–¹æ³•ã¯ï¼Ÿ
**A:** 
- **v2.1ä½¿ç”¨**: 20-25%ã®æ™‚çŸ­åŠ¹æœ
- **Registry cache**: å†ãƒ“ãƒ«ãƒ‰æ™‚50%æ™‚çŸ­
- **é«˜æ€§èƒ½GPU**: H100ã§æœ€å¤§50%é«˜é€ŸåŒ–
- **å®‰å®šãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: RunPodç’°å¢ƒæ¨å¥¨

#### Q: Docker Hubã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå¿…è¦ãªç†ç”±ã¯ï¼Ÿ
**A:** 
- ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã®ä¿å­˜ãƒ»å…±æœ‰
- ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒªãƒã‚¸ãƒˆãƒªã¸ã®ã‚¢ã‚¯ã‚»ã‚¹
- ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã®å†åˆ©ç”¨
- RunPodãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆã«å¿…è¦

### ğŸ’» **å®Ÿè¡Œãƒ»ä½¿ç”¨é–¢é€£**

#### Q: GPUãƒ¡ãƒ¢ãƒªãŒä¸è¶³ã—ã¾ã™
**A:** ä»¥ä¸‹ã®å¯¾ç­–ã‚’è©¦ã—ã¦ãã ã•ã„ï¼š
```bash
# 1. ä½ãƒ¡ãƒ¢ãƒªãƒ¢ãƒ¼ãƒ‰
--lowvram --use-split-cross-attention

# 2. è¨­å®šèª¿æ•´
Batch Size: 1
Resolution: 512x512
Frame Count: 8-16

# 3. GPUç¢ºèª
nvidia-smi  # VRAM 16GBä»¥ä¸Šæ¨å¥¨
```

#### Q: ç”Ÿæˆé€Ÿåº¦ãŒé…ã„ã§ã™
**A:** 
- **GPUç¢ºèª**: RTX 4090ä»¥ä¸Šæ¨å¥¨
- **è¨­å®šæœ€é©åŒ–**: Steps 20-25ã€CFG 7.0-8.0
- **è§£åƒåº¦èª¿æ•´**: 512x512ã§é–‹å§‹
- **ãƒãƒƒãƒå‡¦ç†**: è¤‡æ•°ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ä¸€åº¦ã«å‡¦ç†

#### Q: ComfyUIã¨Jupyter Labã®ä½¿ã„åˆ†ã‘ã¯ï¼Ÿ
**A:** 
- **ComfyUI**: ãƒ“ãƒ‡ã‚ªç”Ÿæˆã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆã€ç›´æ„Ÿçš„æ“ä½œ
- **Jupyter Lab**: APIæ“ä½œã€ãƒãƒƒãƒå‡¦ç†ã€åˆ†æã€é–‹ç™º
- **ä¸¦è¡Œä½¿ç”¨å¯èƒ½**: ä¸¡æ–¹åŒæ™‚ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

### ğŸ› ï¸ **æŠ€è¡“çš„ãªè³ªå•**

#### Q: ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒ‰ã‚’è¿½åŠ ã§ãã¾ã™ã‹ï¼Ÿ
**A:** ã¯ã„ã€ä»¥ä¸‹ã®æ–¹æ³•ã§è¿½åŠ å¯èƒ½ï¼š
```bash
# æ–¹æ³•1: ComfyUI-Managerä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰
# ComfyUI > Manager > Install Custom Nodes

# æ–¹æ³•2: æ‰‹å‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
cd /ComfyUI/custom_nodes
git clone [repository_url]
pip install -r requirements.txt
```

#### Q: ç‹¬è‡ªã®ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã§ãã¾ã™ã‹ï¼Ÿ
**A:** ã¯ã„ã€å¯¾å¿œã™ã‚‹å½¢å¼ã§ã‚ã‚Œã°ä½¿ç”¨å¯èƒ½ï¼š
- **GGUFå½¢å¼**: æ¨å¥¨ï¼ˆãƒ¡ãƒ¢ãƒªåŠ¹ç‡ï¼‰
- **SafeTensors**: å¯¾å¿œ
- **é…ç½®å ´æ‰€**: `/ComfyUI/models/[model_type]/`

#### Q: æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãªã—ã§ã‚‚ä½¿ç”¨ã§ãã¾ã™ã‹ï¼Ÿ
**A:** å¯èƒ½ã§ã™ãŒåˆ¶é™ãŒã‚ã‚Šã¾ã™ï¼š
- **ç”Ÿæˆãƒ“ãƒ‡ã‚ª**: ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åœæ­¢ã§æ¶ˆå¤±
- **ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: ä¿å­˜ã•ã‚Œãªã„
- **ä¸€æ™‚çš„ä½¿ç”¨**: ãƒ†ã‚¹ãƒˆç›®çš„ã«ã¯é©ã—ã¦ã„ã‚‹

### ğŸ’° **ã‚³ã‚¹ãƒˆé–¢é€£**

#### Q: æœˆé¡æ–™é‡‘ã¯ã„ãã‚‰ã‹ã‹ã‚Šã¾ã™ã‹ï¼Ÿ
**A:** ä½¿ç”¨é‡ã«å¿œã˜ãŸå¾“é‡èª²é‡‘ï¼š
- **è©¦ç”¨**: $10-20/æœˆï¼ˆé€±1-2å›ã€2-3æ™‚é–“ï¼‰
- **è»½åº¦ä½¿ç”¨**: $30-50/æœˆï¼ˆé€±3-4å›ã€5-10æ™‚é–“ï¼‰
- **ä¸­åº¦ä½¿ç”¨**: $100-150/æœˆï¼ˆé€±5-6å›ã€20-30æ™‚é–“ï¼‰

#### Q: æ–™é‡‘ã‚’ç¯€ç´„ã™ã‚‹æ–¹æ³•ã¯ï¼Ÿ
**A:** 
- **ä½œæ¥­çµ‚äº†å¾Œã®åœæ­¢**: æœ€ã‚‚é‡è¦
- **Community Cloud**: Secureã‚ˆã‚Šå®‰ä¾¡
- **é©åˆ‡ãªGPUé¸æŠ**: ç”¨é€”ã«å¿œã˜ãŸæœ€é©åŒ–
- **ãƒãƒƒãƒå‡¦ç†**: GPUåŠ¹ç‡ã®æœ€å¤§åŒ–

#### Q: äº‹å‰ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰ã®è²»ç”¨å·®ã¯ï¼Ÿ
**A:** 
- **äº‹å‰ãƒ“ãƒ«ãƒ‰**: $0ï¼ˆãƒ“ãƒ«ãƒ‰è²»ç”¨ãªã—ï¼‰
- **è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰**: $2-4ï¼ˆåˆå›ã®ã¿ï¼‰
- **é•·æœŸçš„**: è‡ªåˆ†ã§ãƒ“ãƒ«ãƒ‰ãŒæœ€æ–°æ©Ÿèƒ½ã§æœ‰åˆ©

### ğŸ”§ **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**

#### Q: ã€ŒNo space left on deviceã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™
**A:** 
- **Container Disk**: 50GBä»¥ä¸Šã«è¨­å®š
- **ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—**: `docker system prune -a -f`
- **RunPodç’°å¢ƒ**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰ã¯éæ¨å¥¨

#### Q: Docker Hubèªè¨¼ãŒå¤±æ•—ã—ã¾ã™
**A:** 
- **ãƒˆãƒ¼ã‚¯ãƒ³ç¢ºèª**: 36-40æ–‡å­—ã®æ­£ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³
- **æ¨©é™ç¢ºèª**: Read, Write, Deleteæ¨©é™ãŒå¿…è¦
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼å**: `nobukoyo`ã§çµ±ä¸€

#### Q: ãƒ“ãƒ‡ã‚ªç”Ÿæˆã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™
**A:** 
- **GPUç¢ºèª**: `nvidia-smi`ã§VRAMç¢ºèª
- **ãƒ¢ãƒ‡ãƒ«ç¢ºèª**: WANãƒ¢ãƒ‡ãƒ«ãŒæ­£ã—ãèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹
- **è¨­å®šèª¿æ•´**: è§£åƒåº¦ãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ æ•°ã‚’ä¸‹ã’ã¦è©¦è¡Œ

### ğŸŒ **æ‹¡å¼µãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**

#### Q: ä»–ã®ãƒ“ãƒ‡ã‚ªç”Ÿæˆãƒ¢ãƒ‡ãƒ«ã‚‚ä½¿ç”¨ã§ãã¾ã™ã‹ï¼Ÿ
**A:** æŠ€è¡“çš„ã«ã¯å¯èƒ½ã§ã™ãŒï¼š
- **ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: WAN 2.1å°‚ç”¨æœ€é©åŒ–
- **ä»–ãƒ¢ãƒ‡ãƒ«**: åˆ¥é€”å¯¾å¿œãŒå¿…è¦
- **æ±ç”¨ç‰ˆ**: å°†æ¥ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§å¯¾å¿œäºˆå®š

#### Q: APIçµŒç”±ã§ã®è‡ªå‹•åŒ–ã¯å¯èƒ½ã§ã™ã‹ï¼Ÿ
**A:** ã¯ã„ã€ComfyUI APIã‚’ä½¿ç”¨ã—ã¦ï¼š
```python
# Jupyter Labã§å®Ÿè¡Œå¯èƒ½
import requests

workflow = {...}  # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©
response = requests.post(
    "http://localhost:6006/api/prompt",
    json={"prompt": workflow}
)
```

#### Q: è¤‡æ•°äººã§ã®å…±åŒåˆ©ç”¨ã¯å¯èƒ½ã§ã™ã‹ï¼Ÿ
**A:** 
- **åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹**: å¯èƒ½ï¼ˆJupyter Lab + ComfyUIï¼‰
- **ãƒ•ã‚¡ã‚¤ãƒ«å…±æœ‰**: æ°¸ç¶šã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸çµŒç”±
- **æ¨©é™ç®¡ç†**: RunPodã‚¢ã‚«ã‚¦ãƒ³ãƒˆå˜ä½
- **ã‚³ã‚¹ãƒˆåˆ†æ‹…**: ä½¿ç”¨æ™‚é–“ã§ã®æŒ‰åˆ†æ¨å¥¨

---

## ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯ãƒ»ãƒªã‚½ãƒ¼ã‚¹

### ğŸ”— **å…¬å¼ãƒªã‚½ãƒ¼ã‚¹**
- **GitHub Repository**: https://github.com/mksd9/my-comfy-wan
- **Docker Hub**: https://hub.docker.com/r/nobukoyo/comfyui-wan-runpod
- **RunPod**: https://runpod.io
- **ComfyUI**: https://github.com/comfyanonymous/ComfyUI

### ğŸ“– **ãƒ¢ãƒ‡ãƒ«ãƒ»æŠ€è¡“æƒ…å ±**
- **WAN 2.1 Model**: https://huggingface.co/city96/Wan2.1-T2V-14B-gguf
- **UMT5 Encoder**: https://huggingface.co/city96/umt5-xxl-encoder-gguf
- **ComfyUI-GGUF**: https://github.com/city96/ComfyUI-GGUF

### ğŸ› ï¸ **é–‹ç™ºãƒ»æ‹¡å¼µ**
- **ComfyUI Custom Nodes**: https://github.com/ltdrdata/ComfyUI-Manager
- **Docker BuildKit**: https://docs.docker.com/buildx/
- **CUDA Toolkit**: https://developer.nvidia.com/cuda-toolkit

### ğŸ“‹ **ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±**
- **Template License**: MIT License
- **ComfyUI License**: GPL v3
- **ãƒ¢ãƒ‡ãƒ«ãƒ©ã‚¤ã‚»ãƒ³ã‚¹**: å„ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã†

---

## ğŸ·ï¸ ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±

- **Template Version**: v2.1
- **ComfyUI Version**: Latest (è‡ªå‹•æ›´æ–°)
- **CUDA Version**: 12.3.2
- **PyTorch Version**: 2.7 nightly+
- **Docker Version**: 24.0+
- **Last Updated**: 2024å¹´1æœˆ

---

**ğŸ¬ Ready to create amazing videos with WAN 2.1!**

ã“ã®ã‚¬ã‚¤ãƒ‰ã«é–¢ã™ã‚‹è³ªå•ã‚„å•é¡ŒãŒã‚ã‚Œã°ã€GitHubã®Issueã¾ãŸã¯RunPodã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ãŠæ°—è»½ã«ãŠå°‹ã­ãã ã•ã„ã€‚